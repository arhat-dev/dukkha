# expected behavior: rendered as string script with env expanded
# actual behavior: env expanded, but some white space trimed

# NOTE: issues like can be solved with `str` type hint

env:
- name: VERSION
  value: "1.26.1"

spec:
  shell@env: |-
    mkdir -p build/yamllint
    cat <<EOF > build/yamllint/Pipfile
    [[source]]
    url = 'https://pypi.python.org/simple'
    verify_ssl = true
    name = 'pypi'

    [requires]
    python_version = '3.8'

    [packages]
    yamllint = "==${VERSION}"
    EOF
---
# expected
shell: |-
  mkdir -p build/yamllint
  cat <<EOF > build/yamllint/Pipfile
  [[source]]
  url = 'https://pypi.python.org/simple'
  verify_ssl = true
  name = 'pypi'

  [requires]
  python_version = '3.8'

  [packages]
  yamllint = "==1.26.1"
  EOF
